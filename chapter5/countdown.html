<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <p>今から<span id="timer"></span>以内に注文すると50%OFF!</p>
  <script>
    'use strict';

    function countdown(due){
      const now = new Date();

      const rest = due.getTime() - now.getTime();
      const sec = Math.floor(rest /1000)%60;
      const min = Math.floor(rest /1000/60)%60;
      const hours = Math.floor(rest /1000/60/60)%24;
      const days = Math.floor(rest /1000/60/60/24);
      const count = [days,hours,min,sec];

      return count;
    }

    let goal = new Date();
    goal.setHours(23);
    goal.setMinutes(59);
    goal.setSeconds(59);

    console.log(countdown(goal));

    function recalc(){
      const counter = countdown(goal);
      const time = `${counter[1]}時間${counter[2]}分${counter[3]}秒`;
      document.getElementById('timer').textContent =time;
      refresh();
    }
    // 一秒間時間が減っていく、recalcのあとは（）いらない！！！
    function refresh(){
      setTimeout(recalc,1000);
    }
    recalc();
  </script>
</body>
</html>